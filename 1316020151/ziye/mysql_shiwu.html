<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link type="text/css" href="zy.css" rel="stylesheet" />
</head>
<body>
    
        <h1>事务</h1>
        <p>
            事务（Transaction）是并发控制的基本单位。所谓的事务，它是一个操作序列，这些操作要么都执行，要么都不执行，它是一个不可分割的工作单位。例如，银行转账工作：从一个账号扣款并使另一个账号增款，这两个操作要么都执行，要么都不执行。所以，应该把它们看成一个事务。事务是数据库维护数据一致性的单位，在每个事务结束时，都能保持数据一致性。<br />

            针对上面的描述可以看出，事务的提出主要是为了解决并发情况下保持数据一致性的问题。<br />

            事务具有以下4个基本特征。<br />

            ●   Atomic（原子性）：事务中包含的操作被看做一个逻辑单元，这个逻辑单元中的操作要么全部成功，要么全部失败。<br />

            ●   Consistency（一致性）：只有合法的数据可以被写入数据库，否则事务应该将其回滚到最初状态。<br />

            ●   Isolation（隔离性）：事务允许多个用户对同一个数据进行并发访问，而不破坏数据的正确性和完整性。同时，并行事务的修改必须与其他并行事务的修改相互独立。<br />

            ●   Durability（持久性）：事务结束后，事务处理的结果必须能够得到固化。<br />

            2.事务的语句<br />
            开始事物：BEGIN TRANSACTION<br />
            提交事物：COMMIT TRANSACTION<br />
            回滚事务：ROLLBACK TRANSACTION<br />
            3.事务的4个属性<br />
            ①原子性(Atomicity)：事务中的所有元素作为一个整体提交或回滚，事务的个元素是不可分的，事务是一个完整操作。<br />
            ②一致性(Consistemcy)：事物完成时，数据必须是一致的，也就是说，和事物开始之前，数据存储中的数据处于一致状态。保证数据的无损。<br />
            ③隔离性(Isolation)：对数据进行修改的多个事务是彼此隔离的。这表明事务必须是独立的，不应该以任何方式以来于或影响其他事务。<br />
            ④持久性(Durability)：事务完成之后，它对于系统的影响是永久的，该修改即使出现系统故障也将一直保留，真实的修改了数据库<br />
            4.事务的保存点<br />
            SAVE TRANSACTION 保存点名称 --自定义保存点的名称和位置<br />
            ROLLBACK TRANSACTION 保存点名称 --回滚到自定义的保存点<br />
        </p>
</body>
</html>
